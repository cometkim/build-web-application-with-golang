## Go가 다른 언어와 다른 점은 무엇인가요?

Go 프로그래밍 언어는 대규모 팀에서 대규모 유저를 위한 확장 가능한 웹 애플리케이션을 개발할 수 있도록 하는 한 가지 목표를 염두에 두고 만들어졌습니다. 이게 Go 언어를 가능한 표준화할 수 있게끔 만든 이유이며, 이 때문에 `gofmt` 도구와 개발자간의 파벌이 생기지 않도록 하는 엄격한 가이드라인이 생겼습니다. 다른 언어에서는 열린 괄호를 어디에 두어야하는지에 대한 거의 종교적인 싸움까지 일어나기도 합니다.

```java
public static void main() {
  
}
```
or


```java
public static void main() 
{

}
```
또한 파이썬에서 우리는 4 스페이스 또는 6 스페이스 또는 한 탭 또는 두 탭과 다른 사용자의 설정에 맞춰 사용해야합니다.

이는 표면적으로는 별거 아닌 문제처럼 보일 수 있지만, 코드베이스가 커지고 같은 코드베이스에 더 많은 사람들이 함께 작업하게 되면, 코드를 아름답게 유지하기가 어렵습니다. 여러분이 파이썬을 알고 있다면, 훌륭한 코드를 짜기위한 가이드라인인 PEP8을 아마 알고 있을 겁니다. 우리는 현재 로봇이 자동차를 운전하는 시대에 살고 있습니다. 따라서 우리는 코드를 그냥 작성해서는 안되며, 훌륭한 코드를 작성해야합니다.

다른 언어의 경우 코드를 작성할 때 많은 변수들이 있으며, 모든 언어는 각각의 유즈 케이스에 대해선 유용합니다. 그러나 Go는 유즈 케이스가 조금 특별한데 거의 인터넷 (그리고 분산 컴퓨팅)과 동의어인 회사에서 설계되었기 때문입니다. 보통 코드를 작성하는 플로우는 Python에서 최적화를 위해 Java, C++로 넘어가지만, 문제는 현재 널리 사용되는 거의 모든 언어가 1GB 스토리지의 가격이 현재와 비교해서 매우 높았을때인 10여년 전에 작성되었다는겁니다. (현재는 스토리지와 컴퓨팅 비용이 저렴해졌습니다.) 최근의 컴퓨터들은 멀티 코어를 가지고 있으며 "오래된 언어"들은 Go가 이용하는 동시성을 이용하지 않습니다. 왜냐하면 그 언어가 나쁘기 때문이 아니라 언어가 발전했을때 유즈 케이스가 적절하지 않았기 때문입니다.

구글은 현재 사용하고 있는 도구들로부터 마주한 모든 문제들을 완화시키기 위해, 여러분이 배우고자하는 Go라는 시스템 언어를 개발했습니다. Go 언어를 사용하면 얻을 수 있는 많은 장점들이 있으며 모든 동전이 양면을 가지듯 단점 또한 있습니다. 하지만 코드 포맷을 지정하는 방법에 대한 싸움이 일어나지 않도록 설계한 언어이기 때문에 코드 포맷팅과 같은 부분에서 중요한 개선이 있습니다. gocode는 전세계의 누군가가 작성하더라도 포맷이 정확히 동일해 보일 것입니다 (그들이 `gofmt`를 알고 있다고 가정). 이는 여러분이 팀으로 작업하기 전까지는 중요하지 않습니다! 또한 회사가 자동화된 코드 리뷰나 다른 멋진 기술을 사용할 때 엄격하고 표준화된 포맷팅 규칙이 없는 다른 언어로 코드를 작성하면 코드가 엉망이 될 수 있지만 Go에서는 그렇지 않습니다.

Go는 동시성을 염두에 두고 설계되었습니다. 병렬성과 동시성이 같지 않음을 주의하세요. 이에 대해 Go 언어 블로그인 [blog.golang.org](blog.golang.org)에 Rob Pike가 쓴 훌륭한글이 있는데, 읽을만한 가치가 있습니다.

저자가 개인적으로 좋아하는 Go가 프로그래밍에서 가져온 또 다른 매우 중대한 변화는 `GOPATH`라는 개념입니다. `code`라는 폴더를 만든 다음 이클립스용 작업 공간을 만들어야 했던때가 가고, 이제 여러분은 Go 코드를 위한 하나의 폴더 트리만 관리하면되며, 이는 패키지 관리자에 의해 자동으로 업데이트됩니다. 또한 우리는 코드 디렉토리에 밑에서 커스텀 도메인이나 Github 도메인으로 폴더를 생성하는걸 추천합니다, 예를 들어 Go로 작업 관리자를 만든다면 다음의 폴더들을 만듭니다.

`~/go/src/github.com/thewhitetulip/Tasks` 참고: *nix 시스템에서 `~`는 홈 디렉토리를 나타내며 Windows에서는 `C:\\Users\\username`과 같습니다.

참고: src와 함께 패키지를 위한 `pkg`와 바이너리를 위한 `bin`이라는 두 개의 폴더가 더 있습니다.

`GOPATH`의 장점은 코드를 특정 폴더에 저장해야함을 제한하는 것 뿐만 아니라, 만약 여러분이 프로젝트에 다섯개의 패키지를 만들었을때 `"import ./db"`처럼 임포트 할 필요 없이 `import "github.com/thewhitetulip/Tasks/db"`로 임포트하여, 레포지토리에서 `go get`을 실행하면, 패키지가 처음에 다운로드 되어있지 않은 경우  `go`는  `github.com/...`에서 패키지를 찾습니다. 이는 프로그래밍 분야에서 많은 것들을 표준화합니다.

일부는 Go 창시자가 지난 30년 이후로 개발된 모든 언어에 대한 연구를 무시했다고 불평하지만 이는 사실일 수 있습니다. 하지만 모두가 좋아하는 제품이나 언어를 만들 수는 없으며, 창시자가 고려해야 했어야하는 일부 또는 다른 유즈 케이스 또는 제약조건들은 항상 존재합니다. 그리고 적어도 웹 개발에 대한 이점들을 고려한다면 위에서 말한 것들을 모두 무시하더라도 Go가 가진 이점들에 가까운 언어는 없다고 생각합니다. Go는 컴파일 언어이며 이는 프로덕션 환경에서 `JVM`이나 `virtualenv`를 설정할 필요 없이 단일 정적 바이너리만 있으면 됨을 의미합니다. 모든 모던 라이브러리들이 `http`와 같은 표준 라이브러리에 포함되어있어 큰 이점을 지니며, 이는 여러분이 별도의 서드 파티 웹 프레임워크 없이 Go 언어만으로 웹 애플리케이션을 만들 수 있는 이유입니다.

# 2.1 Hello, Go

Go로 애플리케이션 개발을 시작기 전에, 간단한 프로그램을 작성하는 법을 배워야합니다. 가장 먼저 기초를 다지는 방법을 모른다면 건물을 지을 수 없습니다. 따라서, 이번 장에선 몇 가지 간단한 프로그램을 실행할 수 있도록 기본적인 문법을 배우겠습니다.

## 프로그램

관례에 따르면, 어떤 언어로 프로그램을 작성하는 방법을 배우기 전에 먼저, "Hello World"를 출력하는 프로그램을 작성하는 방법을 배웁니다.

준비 되셨나요? 시작해봅시다!


```go
package main

import "fmt"

func main() {
	fmt.Printf("Hello, world or 你好，世界 or καλημ ́ρα κóσμ or こんにちは世界\n")
}
```

이는 다음을 출력합니다.

	Hello, world or 你好，世界 or καλημ ́ρα κóσμ or こんにちは世界

## 설명

우선 여러분이 알아야 할 것 중 하나는 Go 프로그램은 `package`로 구성된다는 것입니다.

`package <pkgName>` (이 경우는 `package main`)은 소스 파일이 `main` 패키지에 속함을 알려주며, `main` 키워드는 `.a` 확장자를 갖는 패키지 파일 대신 프로그램으로 컴파일됨을 알려줍니다. 

모든 실행 프로그램은 오직 하나의 `main`를 가지며, `main` 패키지에는 어떤 인자나 반환값도 가지지 않는 `main`이라고 하는 엔트리 함수가 필요합니다.

`Hello, world…`를 출력하기 위해 `Printf`라는 함수를 호출합니다. 이 함수는 `fmt` 패키지에 있기 때문에, 소스 코드의 세번째 줄에서 `import "fmt"`로 패키지를 임포트합니다.

Go에서 패키지를 다루는 방법은 Python과 유사하며, 몇 가지 장점이 있습니다: 모듈화 (프로그램을 여러 모듈로 나눔)와 재사용성 (모든 모듈이 여러 프로그램에서 재사용 가능함). 패키지의 개념에 대해 얘기를 한 후, 나중에 패키지를 만들어 보겠습니다.

다섯번째 줄에서, `main` 함수를 정의하기 위해 `func` 키워드를 사용했습니다. 함수의 본체는 `{}`에 존재하며, C, C++ 및 Java와 유사합니다.

여러분도 볼 수 있듯이, 함수에 인자가 없습니다. 나중에 인자를 가진 함수를 작성하는 방법을 배워보겠습니다. 반환값이 없거나 여러개의 반환값을 갖는 함수도 작성할 수 있습니다.

여섯번째 줄에서, `fmt` 패키지에 있는 `Printf` 함수를 호출했습니다. `<pkgName>.<funcName>` 구문으로 호출되며, 파이썬 스타일과 비슷합니다.

챕터 1에서도 언급했듯이, 패키지명과 패키지를 포함하는 폴더명은 달라도 됩니다. `package <pkgName>`의`<pkgName>`은 폴더명이 아닙니다.

위 예제코드에 ASCII가 아닌 문자들이 많이 포함되어 있는걸 볼 수 있을겁니다. 이걸 보여준 목적은 Go는 기본적으로 UTF-8을 지원한다는걸 보여주기 위해서입니다. 여러분의 프로그램에 모든 UTF-8 문자를 사용할 수 있습니다.

각 Go 파일은 패키지에 존재하고, 그 패키지는 GOPATH에서 고유해야 하지만, main은 `main` 폴더가 필요없는 특별한 패키지입니다. 이는 표준화를 위해 버린 한 가지 측면입니다! 하지만 main 폴더를 만들려면 바이너리를 제대로 실행해야합니다. 또한 하나의 Go 코드는 하나 이상의 `main`  Go 파일을 가질 수 없습니다.

`~/go/src/github.com/thewhitetulip/Tasks/main $ go build`
`~/go/src/github.com/thewhitetulip/Tasks $ ./main/main`

여러분의 코드가 정적 파일이나 다른 파일들을 사용한다면, 위의 두번째 줄에서 보듯이 애플리케이션의 루트에서 바이너리를 실행해야합니다. 메인 패키지 *밖에서* `main` 바이너리를 실행하고 있는데, 여러분이 종종 애플리케이션 왜 동작하지 않는지 의아해 할때 이게 가능한 문제중 하나가 될 수 있으므로, 잘 새겨두세요. 

여기서 주목해야할 것은 Go에선 명령문 뒤에 세미콜론을 사용하지 않는다는건데, 여기엔 사소하게 짚고가야할게  있습니다. 프로그래머는 세미콜론을 넣지 않지만, 컴파일러가 코드를 컴파일 할 때 Go 코드에 세미콜론을 추가합니다. 그렇기 때문에 다음 코드는 구문 오류입니다.

```go
func main ()
{
}
```
컴파일러가 `main()` 뒤에 세미콜론을 추가하기 때문에 이는 구문 오류이며 따라서 위에서 말했던 종교적인 싸움을 피할 수 있도록 해줍니다. 저자는 `vim`과 `emacs`를 합쳐 많은 싸움을 가라앉히는데 이바지 할 수 있는 범용적인 편집기를 만들었으면 하는 바람이 있습니다! 그러나 지금은 Go를 배울겁니다.

## 결론

Go는 프로그램을 구조화 하는데  (파이썬의 모듈과 유사한) `package`를 사용합니다. `main.main()` (이 함수는 반드시 `main` 패키지에 있어야 합니다) 함수는 모든 프로그램의 시작 지점입니다. Go는 언어와 프로그래밍 방법론의 대다수를 표준화하여 종교적인 싸움에 시간을 낭비하는 개발자들의 시간을 아껴줍니다. Go 메인 패키지에는 단 하나의 메인 패키지와 메인 함수만을 사용할 수 있습니다. Go의 창시자중 한명이 UTF-8의 창시자이기 때문에 Go는 UTF-8 문자를 지원하며, 따라서 Go는 만들어졌을때부터 다국어를 지원하고 있습니다.

## 링크

- [목차](preface.md)
- 이전 장: [Go 기본 지식](02.0.md)
- 다음 장: [Go 기초](02.2.md)
