# Go 개발 도구

이번 장에서는, 코드 자동 완성 및 자동 포맷팅과 같은 기능을 사용하여보다 효율적인 프로그래밍이 가능하도록 도와주는 몇 가지 IDE를 보여 드리겠습니다. IDE는 모든 운영체제에서 동일하게 돌아가므로 여러분의 운영체제가 각각 다를지라도 앞으로 보여줄 내용에 큰 차이는 없을겁니다.

## LiteIDE

LiteIDE는 오픈소스이며, visualfc에서 오직 Go 프로젝트만 개발할 수 있게 만든 가벼운 IDE입니다.

![](images/1.4.liteide.png?raw=true)

Figure 1.4 LiteIDE의 메인 화면

LiteIDE의 기능.

- 다중 플랫폼 지원
	- Windows
	- Linux
	- Mac OS
- 크로스 컴파일 지원
	- 여러 컴파일 환경 관리
	- Go의 크로스 컴파일 지원
- 표준 프로젝트 관리
	- $GOPATH를 기반으로 한 패키지 매니저
	- $GOPATH를 기반으로 한 컴파일 시스템
	- $GOPATH를 기반으로 한 API 문서 검색
- Go 소스 코드 편집기
	- 클래스 브라우저 및 개요보기
	- Gocode (코드 자동 생성 도구) 완벽 지원
	- Go 문서보기 및 API 색인
	- `F1`을 사용하여 코드 표현식 보기
	- `F2`를 사용하여 함수 정의 보기
	- Gdb (디버깅) 지원
	- `gofmt`를 통한 자동 포맷팅 지원
- 이외의 기능
	- 다국어 지원
	- 플러그인 시스템
	- 텍스트 편집기 테마 지원
	- Kate 기반 구문 강조 (Syntax Highlighting) 지원
	- 자동 완성 기능
	- 단축키 커스터마이징
	- 마크다운 지원
		- 실시간 미리보기
		- CSS 커스터마이징
		- HTML 및 PDF로 내보내기
		- HTML / PDF 문서로 변환 및 병합
		
### LiteIDE 설치

- LiteIDE 설치
	- [다운로드 링크](https://sourceforge.net/projects/liteide/files/)
	- [소스 코드](https://github.com/visualfc/liteide)
	
	먼저 Go를 설치하고 운영 체제에 적합한 버전을 다운로드해야합니다. 패키지를 직접 압축해제하여 사용합니다.
	
- gocode 설치

	코드 자동완성을 사용하려면 `gocode`를 설치해야합니다.
	
	```sh
	go get -u github.com/nsf/gocode
	```
		
- 컴파일 환경설정

	운영 체제에 맞게 LiteIDE의 설정을 변경하세요.
	윈도우에서 64-bit 버전의 Go를 사용하려면 메뉴에서 win64를 환경으로 선택해야합니다. 그런 다음 `Options`를 선택하고 왼쪽 목록에서 `LiteEnv`를 찾은 다음 오른쪽 목록에서 `win64.env` 파일을 엽니다.
	
		GOROOT=c:\go
		GOBIN=
		GOARCH=amd64
		GOOS=windows
		CGO_ENABLED=1

		PATH=%GOBIN%;%GOROOT%\bin;%PATH%
		。。。
	
	`GOROOT = c : \ go`를 Go 설치 경로에 바꾸고 저장하십시오. MinGW64를 가지고 있다면`cgo` 지원을 위해 경로 환경 변수에`c : \ MinGW64 \ bin`를 추가하십시오.
	
	Linux에서 64-bit 버전의 Go를 사용하는 경우 메뉴에서 linux64를 구성 환경으로 선택해야합니다. 그런 다음 `Options`를 선택하고 왼쪽 목록에서 `LiteEnv`를 찾은 다음 오른쪽 목록에서 `linux64.env` 파일을 엽니다.
	
		GOROOT=$HOME/go
		GOBIN=
		GOARCH=amd64
		GOOS=linux
		CGO_ENABLED=1

		PATH=$GOBIN:$GOROOT/bin:$PATH   
		。。。
		
	`GOROOT=$HOME/go`를 여러분의 Go 설치 경로로 바꾸고 저장하세요.
	
- $GOPATH
	`$GOPATH`는 프로젝트 목록을 포함하는 경로입니다. 보다 자세한 내용을 원하시면 명령어 모음(LiteIDE에서 ``Ctrl+` ``)을 열거나 `go help gopath`를 이용하세요.
	LiteIDE에서 `$GOPATH`를 확인하고 변경하는 것은 매우 쉽습니다. 이 값을 보고 변경하려면 `View - Setup GOPATH`를 따르세요.
	
## Sublime Text

여기에서는 Sublime Text 3 (Sublime for short) + GoSublime + gocode를 소개하고, 소개하는 이유를 설명해 드리겠습니다.

- 코드 자동완성

	![](images/1.4.sublime1.png?raw=true)
	
	Figure 1.5 Sublime 자동 완성
	
- 소스 파일 자동 포맷팅
- 프로젝트 관리

	![](images/1.4.sublime2.png?raw=true)
	
	Figure 1.6 Sublime 프로젝트 관리
	
- 구문 강조
- 기능 제한 없이 무료로 사용 가능합니다. 라이센스를 구입하라는 메시지가 잠시 표시 될 수 있지만 원하는 경우 무시할 수 있습니다. 물론 이 도구를 쓰는 것을 진심으로 좋아하고 잘 사용하고 있다면 구입하여 개발자들을 지원하세요!

첫번째로, [Sublime](http://www.sublimetext.com/)에서 운영체제에 맞는 버전을 설치하세요.

1. ``Ctrl+` ``를 눌러, 명령어 도구를 열고 아래의 명령어들을 작성해 넣으세요.

    Sublime Text 3를 사용한다면：

        import  urllib.request,os;pf='Package Control.sublime-package';ipp=sublime.installed_packages_path();urllib.request.install_opener(urllib.request.build_opener(urllib.request.ProxyHandler()));open(os.path.join(ipp,pf),'wb').write(urllib.request.urlopen('http://sublime.wbond.net/'+pf.replace(' ','%20')).read())
        
    Sublime Text 2를 사용한다면：

        import  urllib2,os;pf='Package Control.sublime-package';ipp=sublime.installed_packages_path();os.makedirs(ipp)ifnotos.path.exists(ipp)elseNone;urllib2.install_opener(urllib2.build_opener(urllib2.ProxyHandler()));open(os.path.join(ipp,pf),'wb').write(urllib2.urlopen('http://sublime.wbond.net/'+pf.replace(' ','%20')).read());print('Please restart Sublime Text to finish installation')

    설치가 끝나면 Sublime Text를 재시작하고, `Preferences` 메뉴에서 `Package Control`을 찾으세요.

    ![](images/1.4.sublime3.png?raw=true)

    Figure 1.7 Sublime Package Control

2. GoSublime, SidebarEnhancements 그리고 Go Build를 설치하려면 `Ctrl+Shift+p`를 눌러 Package Control을 실행하고 `pcip`를 입력하세요 ("Package Control: Install Package"의 약어입니다.)

	![](images/1.4.sublime4.png?raw=true)
	
	Figure 1.8 Sublime Install Packages
	
	이제 "GoSublime"을 입력하고 OK를 눌러 패키지를 설치 한 다음 SidebarEnhancements 및 Go Build도 동일한 단계를 반복해 설치하세요. 설치가 완료되면 편집기를 다시 시작하세요.
	
3. 설치가 성공했는지 확인하려면 Sublime을 연 다음 `main.go` 파일을 열어 구문 강조 표시가 제대로 되는지 확인하세요. 코드 자동완성을 확인해보려면 `import`를 입력해보세요. `import "fmt"`를 입력한 후, `import` 선언 다음에`fmt.`를 입력하여 함수에 대한 코드 자동 완성이 성공적으로 활성화되었는지 확인하세요.

	모든 것이 잘 된다면 모든 설정이 끝난 것입니다.
	
	그렇지 않다면 `$PATH`를 다시 확인하세요. 터미널을 열고 `gocode`를 입력하세요. 만약 실행되지 않으면 `$PATH`가 제대로 설정되지 않은 것입니다.
	
## Vim

Vim은 프로그래머들에게 인기 있는 텍스트 편집기로, 이전 버전인 Vi의 발전형입니다. 이는 코드 자동 완성, 컴파일 및 에러 지점으로의 이동 등의 기능을 갖고있습니다.

vim-go는 광범위한 개발 환경 플러그인을 사용하는 Go 언어를 위한 vim의 오픈 소스 플러그인입니다.

플러그인 주소：[github.com/fatih/vim-go](https://github.com/fatih/vim-go)

Vim 플러그인 관리는 [Pathogen](https://github.com/tpope/vim-pathogen)과 [Vundle](https://github.com/VundleVim/Vundle.vim)이 주류입니다.
그러나 이 두 플러그인은 서로 다른 양상을 띕니다.
Pathogen은 여러 디렉토리에 파일을 설치 한 후 각 플러그인을 관리하고 플러그인의 존재를 관리하지 못하게합니다. Vundle은 플러그인의 자동 검색 및 설치를 할 수 있게 해줍니다.

1. Vundle 설치

```sh
mkdir ~/.vim/bundle
git clone https://github.com/gmarik/Vundle.vim.git ~/.vim/bundle/Vundle.vim
```

`.vimrc`를 수정하여 Vundle을 사용하기위한 초기 설정을 합니다.([자세한 내용은 Vundle 설명서 참조](https://github.com/VundleVim/Vundle.vim))

```sh
set nocompatible              " be iMproved, required
filetype off                  " required

" set the runtime path to include Vundle and initialize
set rtp+=~/.vim/bundle/Vundle.vim
call vundle#begin()

" let Vundle manage Vundle, required
Plugin 'gmarik/Vundle.vim'

" All of your Plugins must be added before the following line
call vundle#end()            " required
filetype plugin indent on    " required

```
2. Vim-go 설치

`~/.vimrc`를 열어 `vundle #begin`과 `vundle #end` 사이에 아래 줄을 추가합니다.

```sh
Plugin 'fatih/vim-go'
```

Vim 내부에서 플러그인 설치를 위해 PluginInstall을 실행하세요

3. 자동완성을 위해 YCM(Your Complete Me) 설치

`~/.vimrc`에 아래 줄을 추가합니다.

```sh
Plugin 'Valloric/YouCompleteMe'
```

Vim 내부에서 플러그인 설치를 위해 PluginInstall을 실행하세요


![](images/1.4.vim.png?raw=true)
	
Figure 1.8 Vim에서의 Go 자동완성

1. Go를 위한 구문 강조 설정

		cp -r $GOROOT/misc/vim/* ~/.vim/
		
2. 구문 강조 기능 켜기

		filetype plugin indent on
		syntax on
		
3. [gocode](https://github.com/nsf/gocode/) 설치

		go get -u github.com/nsf/gocode
		
	gocode는 따로 설정해 둔 것이 없다면 `$GOBIN`에 설치됩니다.

4. Configure [gocode](https://github.com/nsf/gocode/)

		~ cd $GOPATH/src/github.com/nsf/gocode/vim
		~ ./update.sh
		~ gocode set propose-builtins true
		propose-builtins true
		~ gocode set lib-path "/home/border/gocode/pkg/linux_amd64"
		lib-path "/home/border/gocode/pkg/linux_amd64"
		~ gocode set
		propose-builtins true
		lib-path "/home/border/gocode/pkg/linux_amd64"
		
	gocode 설정에 대한 설명:
	
	propose-builtins: 지능형 자동 완성을 활성 여부를 지정합니다. 기본값은 `false`입니다.
	lib-path: gocode는 오직 `$GOPATH/pkg/$GOOS_$GOARCH`와 `$GOROOT/pkg/$GOOS_$GOARCH`에서 패키지를 검색합니다. 이 설정은 경로를 추가 할 때 사용할 수 있습니다.

5. 축하합니다! `:e main.go`를 실행해보세요. Go를 탐험할 준비가 완료되었습니다.

## Emacs

Emacs는 흔히 신의 무기라고 불립니다. Emacs는 단순한 편집기가 아니고 아주 강력한 IDE입니다.

![](images/1.4.emacs.png?raw=true)

Figure 1.10 Go 편집을 위한 Emacs 메인 화면

1. 구문 강조
	
		cp $GOROOT/misc/emacs/* ~/.emacs.d/
		
2. [gocode](https://github.com/nsf/gocode/) 설치

		go get -u github.com/nsf/gocode
		
	gocode는 따로 설정해 둔 것이 없다면 `$GOBIN`에 설치됩니다.
	
3. [gocode](https://github.com/nsf/gocode/) 설정

		~ cd $GOPATH/src/github.com/nsf/gocode/vim
		~ ./update.bash
		~ gocode set propose-builtins true
		propose-builtins true
		~ gocode set lib-path "/home/border/gocode/pkg/linux_amd64"
		lib-path "/home/border/gocode/pkg/linux_amd64"
		~ gocode set
		propose-builtins true
		lib-path "/home/border/gocode/pkg/linux_amd64"
		
4. [Auto Completion](http://www.emacswiki.org/emacs/AutoComplete) 설치
	다운로드 및 압축풀기
	
		~ make install DIR=$HOME/.emacs.d/auto-complete
	
	`~/.emacs`파일 설정
	
		;;auto-complete
		(require 'auto-complete-config)
		(add-to-list 'ac-dictionary-directories "~/.emacs.d/auto-complete/ac-dict")
		(ac-config-default)
		(local-set-key (kbd "M-/") 'semantic-complete-analyze-inline)
		(local-set-key "." 'semantic-complete-self-insert)
		(local-set-key ">" 'semantic-complete-self-insert)	
		
	이 [링크](http://www.emacswiki.org/emacs/AutoComplete)를 통해 더 많은 정보를 얻을 수 있습니다.
	
5. `.emacs` 설정

		;; golang mode
		(require 'go-mode-load)
		(require 'go-autocomplete)
		;; speedbar
		;; (speedbar 1)
		(speedbar-add-supported-extension ".go")
		(add-hook
		'go-mode-hook
		'(lambda ()
    		;; gocode
    		(auto-complete-mode 1)
    		(setq ac-sources '(ac-source-go))
    		;; Imenu & Speedbar
    		(setq imenu-generic-expression
        		'(("type" "^type *\\([^ \t\n\r\f]*\\)" 1)
        		("func" "^func *\\(.*\\) {" 1)))
    		(imenu-add-to-menubar "Index")
    		;; Outline mode
    		(make-local-variable 'outline-regexp)
    		(setq outline-regexp "//\\.\\|//[^\r\n\f][^\r\n\f]\\|pack\\|func\\|impo\\|cons\\|var.\\|type\\|\t\t*....")
    		(outline-minor-mode 1)
    		(local-set-key "\M-a" 'outline-previous-visible-heading)
    		(local-set-key "\M-e" 'outline-next-visible-heading)
    		;; Menu bar
    		(require 'easymenu)
    		(defconst go-hooked-menu
        		'("Go tools"
        		["Go run buffer" go t]
        		["Go reformat buffer" go-fmt-buffer t]
        		["Go check buffer" go-fix-buffer t]))
    		(easy-menu-define
        		go-added-menu
        		(current-local-map)
        		"Go tools"
        		go-hooked-menu)

    		;; Other
    		(setq show-trailing-whitespace t)
    		))
		;; helper function
		(defun go ()
    		"run current buffer"
    		(interactive)
    		(compile (concat "go run " (buffer-file-name))))

		;; helper function
		(defun go-fmt-buffer ()
    		"run gofmt on current buffer"
    		(interactive)
    		(if buffer-read-only
    		(progn
        		(ding)
        		(message "Buffer is read only"))
    		(let ((p (line-number-at-pos))
    		(filename (buffer-file-name))
    		(old-max-mini-window-height max-mini-window-height))
        		(show-all)
        		(if (get-buffer "*Go Reformat Errors*")
    		(progn
        		(delete-windows-on "*Go Reformat Errors*")
        		(kill-buffer "*Go Reformat Errors*")))
        		(setq max-mini-window-height 1)
        		(if (= 0 (shell-command-on-region (point-min) (point-max) "gofmt" "*Go Reformat Output*" nil "*Go Reformat Errors*" t))
    		(progn
        		(erase-buffer)
        		(insert-buffer-substring "*Go Reformat Output*")
        		(goto-char (point-min))
        		(forward-line (1- p)))
    		(with-current-buffer "*Go Reformat Errors*"
    		(progn
        		(goto-char (point-min))
        		(while (re-search-forward "<standard input>" nil t)
        		(replace-match filename))
        		(goto-char (point-min))
        		(compilation-mode))))
        		(setq max-mini-window-height old-max-mini-window-height)
        		(delete-windows-on "*Go Reformat Output*")
        		(kill-buffer "*Go Reformat Output*"))))
		;; helper function
		(defun go-fix-buffer ()
    		"run gofix on current buffer"
    		(interactive)
    		(show-all)
    		(shell-command-on-region (point-min) (point-max) "go tool fix -diff"))
    		
6. 축하합니다!, 여러분은 모든 설정을 마쳤습니다. Speedbar를 기본적으로 닫히게하려면 `;;(speedbar 1)`의 주석을 지워 해당 기능을 활성화 할 수 있습니다. 혹은 `M-x speedbar`를 사용할 수 있습니다.

## Eclipse

Eclipse 또한 훌륭한 개발 도구입니다. 여러분에게 Go 프로그램을 작성하는 방법을 설명하겠습니다.

![](images/1.4.eclipse1.png?raw=true)

Figure 1.1 Go 편집을 위한 Eclipse 메인 화면

1. [Eclipse](http://www.eclipse.org/)를 다운로드 후 설치합니다.
2. [goclipse](https://code.google.com/p/goclipse/)를 다운로드합니다.
	[http://code.google.com/p/goclipse/wiki/InstallationInstructions](http://code.google.com/p/goclipse/wiki/InstallationInstructions)
3. gocode를 다운로드합니다.

	Github에서의 gocode
	
		https://github.com/nsf/gocode
		
	Windows에서 git을 설치해야하며 대게 [msysgit](https://code.google.com/p/msysgit/)를 사용합니다.
	
	명령어를 통해 gocode를 설치합니다.
	
		go get -u github.com/nsf/gocode
		
	원한다면 소스코드로 직접 설치할 수도 있습니다.
	
4. [MinGW](http://sourceforge.net/projects/mingw/files/MinGW/)를 다운로드하고 설치합니다.

5. 플러그인 설정.

	Windows->Preferences->Go
	
	(1). Go 컴파일러 설정
	
	![](images/1.4.eclipse2.png?raw=true)
	
	Figure 1.12 Eclipse에서의 Go 설정
	
	(2). gocode(선택적으로) 설정, `gocode.exe`가 있는 폴더를 gocode 경로로 설정하세요.
	
	![](images/1.4.eclipse3.png?raw=true)
	
	Figure 1.13 gocode 설정
	
	(3). gdb(선택적으로) 설정, `gdb.exe`가 있는 폴더를 gdb 경로로 설정하세요.
	
	![](images/1.4.eclipse4.png?raw=true)
	
	Figure 1.14 gdb 설정
	
6. 설치 확인

	다음과 같이 새로운 Go 프로젝트와 hello.go 파일을 만듭니다.
	
	![](images/1.4.eclipse5.png?raw=true)
	
	Figure 1.15 새로운 프로젝트와 파일 만들기
	
	다음과 같이 설치를 테스트하세요 (Eclipse에서 console에 명령어를 입력해야 함).
	
	![](images/1.4.eclipse6.png?raw=true)
	
	Figure 1.16 Eclipse에서 Go 프로그램을 테스트

## IntelliJ IDEA

Java를 많이 써왔던 사람들이 익숙한 IDE입니다. Go 구문 강조 및 지능형 자동 완성을 지원하며 플러그인으로 제공됩니다.

1. IDEA를 다운로드합니다, Ultimate 와 Community 버전의 차이는 없습니다.

	![](images/1.4.idea1.png?raw=true)
	
2. Go 플러그인을 설치합니다. `File - Setting - Plugins`를 선택하고 `Browser repo`를 클릭합니다.

	![](images/1.4.idea3.png?raw=true)
	
3. `golang`을 검색하시고, `download and install`를 더블클릭 합니다. 다운로드가 끝날때까지 기다리세요.

	![](images/1.4.idea4.png?raw=true)
	
	`Apply`을 누르고, 재시작합니다.
	
4. 이제부터 Go 프로젝트를 만들 수 있습니다.

	![](images/1.4.idea5.png?raw=true)
	
	다음 단계에서 Go sdk의 위치를 입력하십시오. 기본적으로 `$GOROOT`입니다.
	
( ***단계별로 Go 플러그인을 설치하는 법을 보고 싶다면 [이 글](http://wuwen.org/tips-about-using-intellij-idea-and-go/)을 확인하세요. *** )


## Visual Studio VSCode

이것은 오픈소스이고 다중 플랫폼을 지원하는 멋진 텍스트 편집기로서 개발 경험을 한단계 높은 수준으로 끌어올립니다. [다운로드](https://code.visualstudio.com/).
현대적인 텍스트 편집기에 필요한 모든 것을 갖추고 있으며 atom.io가 기반으로하는 동일한 백엔드를 기반으로하고 있음에도 불구하고 매우 빠릅니다.

Windows, Mac, Linux에서 실행됩니다. 패키지를 빌드하거나 lint 기능을 제공해주기도 합니다.
	
## Atom	

Atom은 오픈소스이고 다중 플랫폼을 지원하는 멋진 텍스트 편집기로 Electron에 기반을 두고 있고 우리가 좋아하는 편집기들에 대한 모든것을 기반으로 합니다. Atom은 원하는대로 구성을 바꿀 수 있도록 설계되어 있지만 계속해서 기본 구성을 사용할 수도 있습니다.

[다운로드](https://atom.io/)

##Gogland

Gogland는 Go 개발만을 위한 환경을 제공하기위해 만들어진 `JetBrains`의 새로운 상업용 IDE입니다.

공식버전은 아직 제공되지 않습니다.

[다운로드](https://www.jetbrains.com/go/)

## 링크

- [목차](preface.md)
- 이전 글: [Go 명령어](01.3.md)
- 다음 글: [요약](01.5.md)
